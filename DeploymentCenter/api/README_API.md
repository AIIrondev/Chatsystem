# Chat System API

## Overview

This is a Flask-based chat system API that provides user authentication, chatroom management, and message encryption. The system utilizes MongoDB for data storage and AES encryption for secure message transmission.

## Features

- User authentication (registration, login, logout)
- Secure messaging with AES encryption
- Chatroom creation and management
- Message storage and retrieval using MongoDB
- RESTful API endpoints

## Installation

### Prerequisites

- Python 3.x
- MongoDB
- Flask
- Required Python libraries (see `requirements.txt`)

### Setup

1. Clone the repository:
   ```bash
   git clone <repository_url>
   cd <repository_directory>
   ```
2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```
3. Configure API settings:
   - Update `conf/api.conf` with host, port, and version details.

4. Start the MongoDB server:
   ```bash
   mongod --dbpath <your_db_path>
   ```

5. Run the API:
   ```bash
   python api.py
   ```

## API Endpoints

### User Authentication

| Endpoint          | Method | Description |
|------------------|--------|-------------|
| `/register`      | POST   | Registers a new user |
| `/login`        | POST   | Authenticates a user |
| `/logout`       | POST   | Logs out a user |

### Chatroom Management

| Endpoint          | Method | Description |
|------------------|--------|-------------|
| `/create_chatroom` | POST  | Creates a new chatroom |
| `/list_chatrooms` | GET   | Lists all available chatrooms |
| `/join_chatroom`  | POST  | Allows a user to join a chatroom |

### Messaging

| Endpoint         | Method | Description |
|-----------------|--------|-------------|
| `/send_message`  | POST  | Sends an encrypted message |
| `/receive_message` | GET  | Retrieves messages from a chatroom |
| `/delete_message` | POST  | Deletes a message |

### Miscellaneous

| Endpoint            | Method | Description |
|--------------------|--------|-------------|
| `/test_connection` | GET    | Tests API connectivity |

## Encryption Mechanism

- Uses AES encryption with GCM mode.
- Messages are encrypted before being sent to the database.
- The `Crypting` class manages encryption and decryption.

## Database Structure

The MongoDB database `Chatsystem` contains the following collections:
- `users` - Stores user credentials with SHA-512 hashed passwords.
- `chatrooms` - Stores chatroom details with SHA-256 hashed keys.
- `messages` - Stores encrypted messages with timestamps.

## Security Considerations

- User passwords are hashed before storage.
- AES encryption ensures message confidentiality.
- API input validation prevents injection attacks.

## License

This is under the Apache 2.0 license. See the [LICENSE](../../LICENSE) file for details.

[Back to main README.md](../../README.md)

**This documentation was partially generated by AI.**