# Chat Application

## Description

This application is a secure chat system that allows user registration, login, and communication in encrypted chat rooms. The communication is handled via an API, and messages are secured using AES-GCM encryption.

## Functionality

The application consists of multiple modules:
- **main.py**: Starts the application and checks API availability.
- **ui.py**: Provides the user interface with `tkinter`, manages user interactions, and handles navigation.
- **crypting.py**: Implements encryption and decryption functions.

### Workflow

1. **Application Startup**: `main.py` checks API availability and launches the UI (`ui.py`).
2. **Login/Registration**: The user can register or log in via API requests.
3. **Chatrooms**:
   - Create a new chatroom with a name and key.
   - Join an existing chatroom using the corresponding key.
4. **Message Sending**:
   - Messages are encrypted and sent to the API.
   - Received messages are decrypted and displayed in the UI.
5. **Message Management**:
   - Messages can be refreshed and deleted.
   
## Modules in Detail

### main.py

- Imports `ui.py` and starts the user interface.
- Checks API availability using `test_api()`.
- If the API is unavailable, the application does not start.

### ui.py

- Creates a `tkinter`-based GUI.
- Handles user login and registration.
- Manages chatrooms (creating, joining).
- Handles message sending, receiving, and deletion.
- Uses `crypting.py` for encryption and decryption.

### crypting.py

- Implements AES-GCM encryption for secure message transmission.
- `encrypt(message)`: Encrypts a message.
- `decrypt(message)`: Decrypts a message.
- `set_key(key)`: Sets the encryption key.

## Installation and Usage

### Requirements

- Python 3.x
- Dependencies: `tkinter`, `requests`, `cryptography`

### Installation

1. Clone the repository or download the files.
2. Install the required libraries:
   ```sh
   pip install requests cryptography
   ```
3. Start the application:
   ```sh
   python main.py
   ```

## API Endpoints

The application communicates with an API using the following endpoints:
- `/test_connection`: Checks API connectivity.
- `/login`: Handles user login.
- `/register`: Registers a new user.
- `/create_chatroom`: Creates a new chatroom.
- `/join_chatroom`: Joins an existing chatroom.
- `/send_message`: Sends an encrypted message.
- `/receive_message`: Retrieves messages.
- `/delete_message`: Deletes a message.

## Security

- Messages are encrypted using AES-GCM to ensure privacy and integrity.
- Passwords are hashed using `hashlib.sha256` before being sent to the API.

## License

This is under the Apache 2.0 license. See the [LICENSE](../LICENSE) file for details.

[Back to main README.md](../README.md)

**This documentation was partially generated by AI.**